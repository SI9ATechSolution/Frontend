<div class="booking-stepper">

  <div class="booking-stepper-header">
    <div class="booking-stepper-header-body">
      <h1 class="booking-stepper-header-body-title">COMPRA DE ENTRADAS</h1>
      <p class="booking-stepper-header-body-detail">Confirma el proceso para adquirir tus entradas a <strong>{{showtime?.availableFilm?.business?.name}}</strong></p>
    </div>

    <mat-horizontal-stepper labelPosition="bottom">

      <mat-step label="01. Usuario">
        <div class="film-profile">
          <stepper-film-profile [showtime]="showtime"></stepper-film-profile>

          <div class="user-step">
            
            
            <div class="container-user">
              <div class="container-user-header">
                <span class="step-number">01</span>
                <div class="container-user-header-body">
                  <h2 class="container-user-header-body-title">USUARIO</h2>
                  <p class="">Si no has ingresado, hazlo ahora</p>
                </div>
              </div>
              <hr class="horizontal-line">

              <div *ngIf="userId === 0">
                <div class="no_loged">
                  <span class="no_loged-icon"><mat-icon>priority_high</mat-icon></span>
                  <div class="no_loged-box">
                    <p class="no_loged-box_text">¡REGÍSTRATE COMO CLIENTE TUCINE Y ACCEDE MÁS RÁPIDO EN LA COMPRA ONLINE 
                      ADEMÁS DE RECIBIR PROMOCIONES ÚNICAS EN BOLETERÍA Y CONFITERÍA! <br> REGISTRATE <button class="bt-register" (click)="goToRegister()">AQUÍ</button></p>
                  </div>
                </div>
              </div>

              <div *ngIf="userId != 0">
                <div class="loged">
                  <div class="loged-item">
                    <span class="icon"><mat-icon>person</mat-icon></span>
                    <p class="loged-label">NOMBRE</p>
                    <P class="loged-data">{{user?.name}}</P>
                  </div>

                  <div class="loged-item">
                    <span class="icon"><mat-icon>person</mat-icon></span>
                    <p class="loged-label">APELLIDO</p>
                    <P class="loged-data">{{user?.lastname}}</P>
                  </div>

                  <div class="loged-item">
                    <span class="icon"><mat-icon>mail</mat-icon></span>
                    <p class="loged-label">EMAIL</p>
                    <P class="loged-data">{{user?.email}}</P>
                  </div>

                  <div class="loged-item">
                    <span class="icon"><mat-icon>phone_iphone</mat-icon></span>
                    <p class="loged-label">TELÉFONO</p>
                    <P class="loged-data">{{user?.phoneNumber}}</P>
                  </div>

                </div>
              </div>
            </div>

            <div class="film-profile-actions">
              <button *ngIf="userId === 0" mat-raised-button class="bt-step1" (click)="goToSignIn()">Ingresar</button>
              <button *ngIf="userId != 0" mat-raised-button class="bt-step1" (click)="stepper.next()">Comprar</button>
            </div>
          </div>
        </div>        
      </mat-step>

      <mat-step label="02. Entradas">
        <div class="film-profile">
          <stepper-film-profile [showtime]="showtime"></stepper-film-profile>
          
          <div class="user-step">
            
            
            <div class="container-user">
              <div class="container-user-header">
                <span class="step-number">02</span>
                <div class="container-user-header-body">
                  <h2 class="container-user-header-body-title">ENTRADAS</h2>
                  <p class="">Selecciona tus entradas. El valor se calculará luego de seleccionar las butacas</p>
                </div>
              </div>
              <hr class="horizontal-line">

              <app-book-ticket [showtime]="showtime"></app-book-ticket>

            </div>

            <div class="film-profile-actions">
              <button  mat-raised-button class="bt-step1" (click)="stepper.next()">Siguiente</button>
            </div>
          </div>

          
        </div>
      </mat-step>
    
      <!-- Paso 2 -->
      <mat-step label="03. Confirmación y pago">
        <div class="film-profile">
          <stepper-film-profile [showtime]="showtime"></stepper-film-profile>

          <div class="user-step">
            <div class="container-user">
              <div class="container-user-header">
                <span class="step-number">03</span>
                <div class="container-user-header-body">
                  <h2 class="container-user-header-body-title">CONFIRMACIÓN Y PAGO</h2>
                  <p class="">Llena tus datos como aparecen en tu tarjeta</p>
                </div>
              </div>
              <hr class="horizontal-line">

              <app-payment-form></app-payment-form>

            </div>
          </div>

        </div>
      </mat-step>
    </mat-horizontal-stepper>
  </div>

  
</div>
